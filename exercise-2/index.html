<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/Blog">
<head>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script
  type="text/javascript"
  charset="utf-8"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"
>
</script>

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <title> Exercise 2 </title>
    <link rel="apple-touch-icon" sizes="57x57" href="https:&#x2F;&#x2F;mt2-erlangen.github.io&#x2F;apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="https:&#x2F;&#x2F;mt2-erlangen.github.io&#x2F;apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="https:&#x2F;&#x2F;mt2-erlangen.github.io&#x2F;apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="https:&#x2F;&#x2F;mt2-erlangen.github.io&#x2F;apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="https:&#x2F;&#x2F;mt2-erlangen.github.io&#x2F;apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="https:&#x2F;&#x2F;mt2-erlangen.github.io&#x2F;apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="https:&#x2F;&#x2F;mt2-erlangen.github.io&#x2F;apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="https:&#x2F;&#x2F;mt2-erlangen.github.io&#x2F;apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="https:&#x2F;&#x2F;mt2-erlangen.github.io&#x2F;apple-icon-180x180.png">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" type="image/png" sizes="192x192"  href="https:&#x2F;&#x2F;mt2-erlangen.github.io&#x2F;android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https:&#x2F;&#x2F;mt2-erlangen.github.io&#x2F;favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="https:&#x2F;&#x2F;mt2-erlangen.github.io&#x2F;favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https:&#x2F;&#x2F;mt2-erlangen.github.io&#x2F;favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="description" itemprop="about" content="">
    <meta name="keywords" itemprop="keywords" content="">
    <meta itemprop="headline" content="Medizintechnik II – Exercises"/>
    <meta itemprop="educationalUse" content="knowledge share" />
    <meta itemprop="copyrightYear" content="2021" />
    <meta property="og:title" content="Medizintechnik II – Exercises Exercise 2 ">
    <meta property="og:description" content="  ">
    <meta property="og:image" content="">
    <meta property="og:url" content="https:&#x2F;&#x2F;mt2-erlangen.github.io&#x2F;exercise-2&#x2F;">
    <meta name="twitter:card" content="summary_large_image">
    <meta property="og:site_name" content="">
    <meta name="twitter:image:alt" content="Exercise 2">

    <meta property="fb:app_id" content="???" />
    <meta name="twitter:site" content="@???">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600|Source+Code+Pro">
    <link rel="stylesheet" href="/site.css">
</head>

<body>
    <div 
     itemscope itemtype="http://schema.org/Organization">
    </div>

    <header class="header">
        <div class="container">
            <!--<a href="https:&#x2F;&#x2F;mt2-erlangen.github.io&#x2F;" >Anchor Text</a>-->
            <a class="title" href="..">
                    <img src="&#x2F;imgs&#x2F;common&#x2F;prl_logo_small.png" alt="" href="https:&#x2F;&#x2F;mt2-erlangen.github.io&#x2F;">
                    <h1 >Medizintechnik II – Exercises</h1>
            </a>
        </div>
    </header>

    <div class="container padding-header">
        
<article itemscope itemtype="http://schema.org/BlogPosting" class="post post-page">
    
        
    
    <header>
        
        <h1 class="title" itemprop="headline">Exercise 2</h1>
        <address itemprop="author" itemscope itemtype="https://schema.org/Person">
            <span itemprop="name">Stephan Seitz</span>
        </address>
        <div class="extra">
            

            
        </div>
    </header>
    <div itemprop="articleBody" class="body">
      <h1 id="will-corona-ever-end">Will Corona Ever End?</h1>
<p><strong>Submission deadline: 16.05.21 23:55h</strong></p>
<p>Please ensure that all files you created also contain <strong>your name and your IDM ID</strong>
and also your partner's name and IDM ID if you're not working alone.</p>
<p>Each exercise has <strong>10 points</strong>. You have to achieve <strong>30 of 60 points in six homework exercises</strong> to pass the module.</p>
<h2 id="infinite-signals">Infinite Signals!</h2>
<P align="right"><i>3 Points</i>
<p>Right now our Signal class only represent a signal of finite length.
Now we want to extend our signal class.</p>
<p>In our black board exercises, we agreed that we want to continue our signals with zeros where we don't have any values stored.
If we access indices of our <code>Signal</code> with values smaller than <code>minIndex()</code> or larger <code>maxIndex()</code> we want to return <code>0.0f</code>.
If a user accesses an index between <code>minIndex()</code> and <code>maxIndex()</code> we want to return the corresponding value stored in our array.</p>
<p><img src="../signal-min-max.png" alt="minIndex" /></p>
<p>Implement the method <code>atIndex</code> and <code>setAtIndex</code> and <code>minIndex</code>/<code>maxIndex</code> for <code>Signal</code>.
Please be aware that <code>minIndex</code> can be smaller than 0 for subclasses of Signal.
If <code>setAtIndex</code> is called with an invalid index (smaller than <code>minIndex</code> or greater than <code>maxIndex</code>), it's ok for the program to crash.
This should not happen for <code>atIndex</code>.</p>
<p><code>Signal</code> should add the following member</p>
<pre style="background-color:#2b303b;">
<code class="language-java" data-lang="java"><span style="color:#b48ead;">protected int</span><span style="color:#c0c5ce;"> minIndex; </span><span style="color:#65737e;">//Index of first array element (should be 0 for signals)
</span></code></pre>
<p>Implement the methods explained above for <code>Signal</code>	</p>
<pre style="background-color:#2b303b;">
<code class="language-java" data-lang="java"><span style="color:#b48ead;">public int </span><span style="color:#bf616a;">minIndex</span><span style="color:#c0c5ce;">() </span><span style="color:#65737e;">// Get lowest index of signal (that is stored in buffer)
</span><span style="color:#b48ead;">public int </span><span style="color:#bf616a;">maxIndex</span><span style="color:#c0c5ce;">()	</span><span style="color:#65737e;">// Get highest index of signal (that is stored in buffer)	
</span><span style="color:#b48ead;">public float </span><span style="color:#bf616a;">atIndex</span><span style="color:#c0c5ce;">(</span><span style="color:#b48ead;">int</span><span style="color:#c0c5ce;"> i)
</span><span style="color:#b48ead;">public</span><span style="color:#c0c5ce;"> void </span><span style="color:#bf616a;">setAtIndex</span><span style="color:#c0c5ce;">(</span><span style="color:#b48ead;">int</span><span style="color:#c0c5ce;"> i, </span><span style="color:#b48ead;">float</span><span style="color:#c0c5ce;"> value)
</span></code></pre>
<p>You can check the correctness of <code>atIndex</code>/<code>setAtIndex</code> with the test <code>testAtIndex</code> in file <a href="https://github.com/mt2-erlangen/exercises-ss2021/blob/main/src/test/java/mt/SignalTests.java"><code>src/test/java/SignalTests.java</code></a></p>
<h2 id="linearfilter">LinearFilter</h2>
<P align="right"><i>3 Points</i>
<p>Implement <code>LinearFilter</code> in file <code>src/main/java/mt/LinearFilter.java</code> as a subclass of <code>Signal</code>.
<code>LinearFilter</code> should work like <code>Signal</code> except its <code>minIndex</code> should be at <br> 
<code>- (coefficients.length/2)</code> as in the exercise slides.</p>
<p><img src="../tip2.png" alt="tip2" /></p>
<p><code>LinearFilter</code> should have a constructor that checks that coefficients is an array of odd size or throws an error otherwise (any error is ok).</p>
<pre style="background-color:#2b303b;">
<code class="language-java" data-lang="java"><span style="color:#c0c5ce;">    </span><span style="color:#b48ead;">public </span><span style="color:#bf616a;">LinearFilter</span><span style="color:#c0c5ce;">(</span><span style="color:#b48ead;">float[]</span><span style="color:#c0c5ce;"> coefficients, </span><span style="color:#ebcb8b;">String</span><span style="color:#c0c5ce;"> name)
</span></code></pre>
<p>and a method that executes the discrete convolution on another <code>Signal input</code> and returns an output of same size.</p>
<pre style="background-color:#2b303b;">
<code class="language-java" data-lang="java"><span style="color:#c0c5ce;">   </span><span style="color:#b48ead;">public </span><span style="color:#ebcb8b;">Signal </span><span style="color:#bf616a;">apply</span><span style="color:#c0c5ce;">(</span><span style="color:#ebcb8b;">Signal</span><span style="color:#c0c5ce;"> input);
</span></code></pre>
<p>You should be able to directly use the formula from the exercise slides (f is the input signal, h our filter, $L$ the filter length)</p>
<p>$$K = \lfloor L/2 \rfloor$$
$$g[k] = \sum_{\kappa=-K}^{K} f[k-\kappa] \cdot h[ \kappa ]$$</p>
<p>or with our <code>minIndex</code>/<code>maxIndex</code> methods for each index $k$ of the output signal.
$$g[k] = \sum_{\kappa=h.\text{minIndex}}^{h.\text{maxIndex}} f[k-\kappa] \cdot h[\kappa] $$</p>
<p>Be sure that you use <code>atIndex</code> to access the values of <code>input</code> and the filter.</p>
<p><img src="../tip3.png" alt="tip3" /></p>
<p>You can test your convolution function with the tests provided in <a href="https://github.com/mt2-erlangen/exercises-ss2021/blob/main/src/test/java/mt/LinearFilterTests.java"><code>src/test/java/LinearFilterTests.java</code></a>. For the test you will also need to download the file <a href="https://github.com/mt2-erlangen/exercises-ss2021/blob/main/src/main/java/lme/Algorithms.java"><code>src/main/java/lme/Algorithms.java</code></a>. </p>
<p>Good test cases are:</p>
<ul>
<li><code>{0,0,1,0,0}</code>: this filter should not change your signal at all</li>
<li><code>{0,1,0,0,0}</code>: this filter should move your signal one value to the <strong>left</strong></li>
<li><code>{0,0,0,1,0}</code>: this filter should move your signal one value to the <strong>right</strong></li>
</ul>
<h2 id="get-the-current-rki-data">Get the Current RKI Data</h2>
<P align="right"><i>4 Points</i>
<p>To see whether the Corona situation will ever improve we want to have a look at newest data from RKI institute.
Open the file </p>
<pre style="background-color:#2b303b;">
<code class="language-java" data-lang="java"><span style="color:#65737e;">// &lt;your name&gt; &lt;your idm&gt;
// &lt;your partner&#39;s name&gt; &lt;your partner&#39;s idm&gt; (if you submit with a group partner)
</span><span style="color:#b48ead;">public static</span><span style="color:#c0c5ce;"> void </span><span style="color:#bf616a;">main</span><span style="color:#c0c5ce;">(</span><span style="color:#ebcb8b;">String</span><span style="color:#b48ead;">[]</span><span style="color:#c0c5ce;"> args) throws </span><span style="color:#ebcb8b;">MalformedURLException</span><span style="color:#c0c5ce;">, </span><span style="color:#ebcb8b;">IOException </span><span style="color:#c0c5ce;">{
    </span><span style="color:#ebcb8b;">JSONObject</span><span style="color:#c0c5ce;"> response = </span><span style="color:#bf616a;">readJsonFromUrl</span><span style="color:#c0c5ce;">(&quot;</span><span style="color:#a3be8c;">https://api.corona-zahlen.org/germany/history/cases</span><span style="color:#c0c5ce;">&quot;);

}
</span></code></pre>
<p><code>response</code> will contain a <a href="https://stleary.github.io/JSON-java/org/json/JSONObject.html">JSONObject</a> from the <code>org.json</code> library
(it was installed by adding <code>implementation 'org.json:json:20201115'</code> to your <code>build.gradle</code>). The template for <code>Exercise 2</code> to use the function above can be downloaded from here: <a href="https://github.com/mt2-erlangen/exercises-ss2021/blob/main/src/main/java/exercises/Exercise02.java">Exercise2.java</a><br>
It contains the newest data from the Robert-Koch-Institute (via <a href="https://github.com/marlon360/rki-covid-api">https://github.com/marlon360/rki-covid-api</a>) with the following JSON schema:</p>
<pre style="background-color:#2b303b;">
<code class="language-json" data-lang="json"><span style="color:#c0c5ce;">{
  &quot;</span><span style="color:#a3be8c;">data</span><span style="color:#c0c5ce;">&quot;: [
    {
      &quot;</span><span style="color:#a3be8c;">cases</span><span style="color:#c0c5ce;">&quot;: </span><span style="color:#d08770;">1</span><span style="color:#c0c5ce;">,
      &quot;</span><span style="color:#a3be8c;">date</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">2020-01-07T00:00:00.000Z</span><span style="color:#c0c5ce;">&quot;
    },
    {
      &quot;</span><span style="color:#a3be8c;">cases</span><span style="color:#c0c5ce;">&quot;: </span><span style="color:#d08770;">1</span><span style="color:#c0c5ce;">,
      &quot;</span><span style="color:#a3be8c;">date</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">2020-01-19T00:00:00.000Z</span><span style="color:#c0c5ce;">&quot;
    },
    {
      &quot;</span><span style="color:#a3be8c;">cases</span><span style="color:#c0c5ce;">&quot;: </span><span style="color:#d08770;">1</span><span style="color:#c0c5ce;">,
      &quot;</span><span style="color:#a3be8c;">date</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">2020-01-23T00:00:00.000Z</span><span style="color:#c0c5ce;">&quot;
    },
    {
      &quot;</span><span style="color:#a3be8c;">cases</span><span style="color:#c0c5ce;">&quot;: </span><span style="color:#d08770;">1</span><span style="color:#c0c5ce;">,
      &quot;</span><span style="color:#a3be8c;">date</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">2020-01-25T00:00:00.000Z</span><span style="color:#c0c5ce;">&quot;
    },
    {
      &quot;</span><span style="color:#a3be8c;">cases</span><span style="color:#c0c5ce;">&quot;: </span><span style="color:#d08770;">2</span><span style="color:#c0c5ce;">,
      &quot;</span><span style="color:#a3be8c;">date</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">2020-01-28T00:00:00.000Z</span><span style="color:#c0c5ce;">&quot;
    },
    {
      &quot;</span><span style="color:#a3be8c;">cases</span><span style="color:#c0c5ce;">&quot;: </span><span style="color:#d08770;">2</span><span style="color:#c0c5ce;">,
      &quot;</span><span style="color:#a3be8c;">date</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">2020-01-29T00:00:00.000Z</span><span style="color:#c0c5ce;">&quot;
    },
    </span><span style="color:#65737e;">//...
  </span><span style="color:#c0c5ce;">]
}
</span></code></pre>
<p>Yes, on <code>2020-01-07</code> the situation was still pretty good. But what is the situation right now?</p>
<p>Create a <code>Signal</code> from the <code>JSONObject</code> with the number of cases for each day! Display the signal with
its <code>show()</code> method.</p>
<p><img src="../rki_data_raw.png" alt="rki data unfiltered" /></p>
<p>Well this looks very wavy... Let's filter this signal!</p>
<p>Apply the following filters on your signal:</p>
<p>$$ h_1 = \left[ \frac{1.0}{7.0}, \frac{1.0}{7.0}, \frac{1.0}{7.0}, \frac{1.0}{7.0}, \frac{1.0}{7.0}, \frac{1.0}{7.0}, \frac{1.0}{7.0}\right] $$
<img src="../rki_data_mean.png" alt="rki data mean" /></p>
<p>$$ h_2 = \left[ 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, -1.0 \right]$$
<img src="../rki_data_diff.png" alt="rki data diff" /></p>
<p>What happens when you apply $h_1$ and then $h_2$? What happens when you first apply $h_2$ and then $h_1$? 
What do the individual filters calculate?</p>
<h2 id="submitting">Submitting</h2>
<p>Please ensure that all files you created also contain your name and your IDM ID and also your partner's name and IDM ID if you're not working alone.
You only need to submit the code. No need to submit answers to the questions in the text.</p>
<p>Then, compress your source code folder <code>src</code> to a zip archive (<code>src.zip</code>) and submit it via StudOn!</p>

    </div>
</article>



    </div>

    <div class="footer">
    Last site update:  2021-05-30 10:29
    </div>

</body>
</html>
